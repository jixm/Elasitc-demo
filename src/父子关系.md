**Parent-Child主要特点：**

* 1, 父文档可以被更新，而无须重建所有的子文档 
* 2,子文档的添加，修改，或者删除不影响它的父文档和其他的子文档，这尤其是在子文档数量巨大而且需要被添加和更新频繁的场景下Parent-Child能获取更好的性能 
* 3,子文档可以被返回在搜索结果里面 

> **nested** 的缺点是对数据的更新需要reindex整个nested结构下的所有数据，所以注定了它的使用场景一定是查询多更新少的场景，如果是更新多的场景，那么nested的性能未必会很好


> ElasticSearch在内存里面维护了一个父子关系的映射表，以便于能够加速查询，这种映射使用的是doc-value，如果数据量巨大内存放不下，会自动的保存到磁盘中，当然此时性能也会下降
